---
description: >-
  Периодически у администраторов университета возникает потребность открепить
  сотрудника от университета (например, в случае когда уволился)
---

# Открепление сотрудников от всех сущностей

Ранее необходимо было бегать по каждой сущности, к которой пользователь относился, и откреплять его вручную, что несколько неудобно. Поэтому предоставили возможность открепления сотрудников сразу от всех сущностей, что будет означать открепление сотрудника от университета.

Для этого было реализовано следующее:

1. В профиль пользователя добавлена кнопка “Забрать доступ”. Данная кнопка доступна только администратору университета и отображается в профиле пользователя в случае, если пользователь прикреплен к университету и имеет любую роль (именно в этом университете), отличную от роли “студент”.

<figure><img src="../../.gitbook/assets/image (707).png" alt=""><figcaption></figcaption></figure>

2. По нажатию на эту кнопку отобразится модальное окно.

<figure><img src="../../.gitbook/assets/image (427).png" alt=""><figcaption></figcaption></figure>

Нажатие на кнопку “Подтвердить” приведет к откреплению пользователя от всех сущностей в этом университете (кроме тех сущностей, к которым пользователь может быть привязан как студент).

3. Если и администратор университета, и пользователь, которого он открепляет, оба являются представителями 2 и более одинаковых вузов, то выведется следующая ошибка:

<figure><img src="../../.gitbook/assets/image (208).png" alt=""><figcaption></figcaption></figure>

18.05.2023
